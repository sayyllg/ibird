<?php
/* 	获取一天报工信息
   	URL    spms/jobcard?type=day&stamp=1429200000

   	获取一周报工信息
   	URL    spms/jobcard?type=week&stamp=1429200000

   	(返回数据格式相同)
 */
$error  = {
    "err_code": 20161,
    "err_memo": "请求参数错误!"
}

$result = {
    "code": 0,
    "data": {
        "list": [
            {
                "id": "suhH5KI9zY9sjRwN",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "id": "eqMgl8ckAukpGacD",
                    "name": "李丹丹测试项目，勿删改",
                    "parent_id": ""
                },
                "target": {
                    "id": "J5zDeWuTqSBp7gY7",
                    "type": "spms_achievement",
                    "name": "成果名称pppppppp",
                    "parent_id": "eqMgl8ckAukpGacD"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test",
                "order": 0,
                "robot": "0"
            },
            {
                "id": "jgD6gGEbKMS1qp8Z",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "id": "eqMgl8ckAukpGacD",
                    "name": "李丹丹测试项目，勿删改",
                    "parent_id": ""
                },
                "target": {
                    "id": "J5zDeWuTqSBp7gY7",
                    "type": "spms_achievement",
                    "name": "成果名称pppppppp",
                    "parent_id": "eqMgl8ckAukpGacD"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test",
                "order": 0,
                "robot": "0"
            },
            {
                "id": "BeVFHTsIcZG857NA",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "id": "eqMgl8ckAukpGacD",
                    "name": "李丹丹测试项目，勿删改",
                    "parent_id": ""
                },
                "target": {
                    "id": "J5zDeWuTqSBp7gY7",
                    "type": "spms_achievement",
                    "name": "成果名称pppppppp",
                    "parent_id": "eqMgl8ckAukpGacD"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test",
                "order": 0,
                "robot": "0"
            },
            {
                "id": "bjaXdnrn50MwJznH",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "err_code": 232059,
                    "err_memo": "该条报工对应项目信息不存在"
                },
                "target": {
                    "err_code": 232059,
                    "err_memo": "该条报工对应项目信息不存在"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test123",
                "order": 0,
                "robot": "0"
            }
        ]
    },
    "msg": "",
    "systime": 1428569122
}


/* 	获取单条报工
	GET    spms/jobcard/BeVFHTsIcZG857NA
 */

$result = {
    "code": 0,
    "data": {
        "item": {
            "id": "BeVFHTsIcZG857NA",
            "user": {
                "id": "xnqRV7CuSjHm5VX8",
                "name": "卢红兵",
                "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
            },
            "project": {
                "id": "eqMgl8ckAukpGacD",
                "name": "李丹丹测试项目，勿删改",
                "parent_id": ""
            },
            "target": {
                "id": "J5zDeWuTqSBp7gY7",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            "dept_id": "",
            "jobdate": 1429200000,
            "manhours": 3,
            "created_at": 1428543071,
            "updated_at": 0,
            "desc": "test",
            "order": 0,
            "robot": "0"
        }
    },
    "msg": "",
    "systime": 1428569569
}


/* 	添加单条报工
	POST   spms/jobcard
 */
$error  = {
    "err_code": 232052,
    "err_memo": "项目不能为空"
}
$error1  = {
    "err_code": 232057,
    "err_memo": "报工日期不能为空"
}
$error2  = {
    "err_code": 232058,
    "err_memo": "报工工时不能为空"
}
$error3  = {
    "err_code": 232053,
    "err_memo": "报工添加失败，请重新添加"
}

$result = {
    "code": 0,
    "data": {
        "item": {
            "id": "BeVFHTsIcZG857NA",
            "user": {
                "id": "xnqRV7CuSjHm5VX8",
                "name": "卢红兵",
                "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
            },
            "project": {
                "id": "eqMgl8ckAukpGacD",
                "name": "李丹丹测试项目，勿删改",
                "parent_id": ""
            },
            "target": {
                "id": "J5zDeWuTqSBp7gY7",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            "dept_id": "",
            "jobdate": 1429200000,
            "manhours": 3,
            "created_at": 1428543071,
            "updated_at": 0,
            "desc": "test",
            "order": 0,
            "robot": "0"
        }
    },
    "msg": "",
    "systime": 1428569569
}


/* 	更新单条报工
	PUT    spms/jobcard/BeVFHTsIcZG857NA
 */
$error  = {
    "err_code": 232052,
    "err_memo": "项目不能为空"
}
$error1  = {
    "err_code": 232057,
    "err_memo": "报工日期不能为空"
}
$error2  = {
    "err_code": 232058,
    "err_memo": "报工工时不能为空"
}
$error3  = {
    "err_code": 232054,
    "err_memo": "报工修改失败，请重新修改"
}
$error4  = {
    "err_code": 232051,
    "err_memo": "没有权限编辑该报工"
}

$result = {
    "code": 0,
    "data": {
        "item": {
            "id": "BeVFHTsIcZG857NA",
            "user": {
                "id": "xnqRV7CuSjHm5VX8",
                "name": "卢红兵",
                "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
            },
            "project": {
                "id": "eqMgl8ckAukpGacD",
                "name": "李丹丹测试项目，勿删改",
                "parent_id": ""
            },
            "target": {
                "id": "J5zDeWuTqSBp7gY7",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            "dept_id": "",
            "jobdate": 1429200000,
            "manhours": 3,
            "created_at": 1428543071,
            "updated_at": 0,
            "desc": "test",
            "order": 0,
            "robot": "0"
        }
    },
    "msg": "",
    "systime": 1428569569
}

/* 	删除单条报工
	DELETE spms/jobcard/BeVFHTsIcZG857NA
 */
$error  = {
    "err_code": 232055,
    "err_memo": "数据不存在"
}
$error1  = {
    "err_code": 232051,
    "err_memo": "没有权限编辑该报工"
}
$error2  = {
    "err_code": 232056,
    "err_memo": "报工删除失败，请重新删除"
}

$result = {
    "code": 0,
    "data": {
        "item": {
            "id": "BeVFHTsIcZG857NA",
            "user": {
                "id": "xnqRV7CuSjHm5VX8",
                "name": "卢红兵",
                "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
            },
            "project": {
                "id": "eqMgl8ckAukpGacD",
                "name": "李丹丹测试项目，勿删改",
                "parent_id": ""
            },
            "target": {
                "id": "J5zDeWuTqSBp7gY7",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            "dept_id": "",
            "jobdate": 1429200000,
            "manhours": 3,
            "created_at": 1428543071,
            "updated_at": 0,
            "desc": "test",
            "order": 0,
            "robot": "0"
        }
    },
    "msg": "",
    "systime": 1428569569
}


/* 	复制 一天报工信息
	URL   spms/jobcard/copy?copyday=1428508800&newday=1429200000
 */
$error  = {
    "err_code": 20161,
    "err_memo": "请求参数错误!"
}
$error1  = {
    "err_code": 232061,
    "err_memo": "被复制天报工信息为空，无法复制"
}
$error2  = {
    "err_code": 232062,
    "err_memo": "当天已有报工信息，禁止复制"
}

$result = {
    "code": 0,
    "data": {
        "list": [
            {
                "id": "suhH5KI9zY9sjRwN",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "id": "eqMgl8ckAukpGacD",
                    "name": "李丹丹测试项目，勿删改",
                    "parent_id": ""
                },
                "target": {
                    "id": "J5zDeWuTqSBp7gY7",
                    "type": "spms_achievement",
                    "name": "成果名称pppppppp",
                    "parent_id": "eqMgl8ckAukpGacD"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test",
                "order": 0,
                "robot": "0"
            },
            {
                "id": "jgD6gGEbKMS1qp8Z",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "id": "eqMgl8ckAukpGacD",
                    "name": "李丹丹测试项目，勿删改",
                    "parent_id": ""
                },
                "target": {
                    "id": "J5zDeWuTqSBp7gY7",
                    "type": "spms_achievement",
                    "name": "成果名称pppppppp",
                    "parent_id": "eqMgl8ckAukpGacD"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test",
                "order": 0,
                "robot": "0"
            },
            {
                "id": "BeVFHTsIcZG857NA",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "id": "eqMgl8ckAukpGacD",
                    "name": "李丹丹测试项目，勿删改",
                    "parent_id": ""
                },
                "target": {
                    "id": "J5zDeWuTqSBp7gY7",
                    "type": "spms_achievement",
                    "name": "成果名称pppppppp",
                    "parent_id": "eqMgl8ckAukpGacD"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test",
                "order": 0,
                "robot": "0"
            },
            {
                "id": "bjaXdnrn50MwJznH",
                "user": {
                    "id": "xnqRV7CuSjHm5VX8",
                    "name": "卢红兵",
                    "avatar": "/openfile/getfile?type=osns_n_avatar&size=large&id=9P9QQJ5Ft5LPA8Xi"
                },
                "project": {
                    "err_code": 232059,
                    "err_memo": "该条报工对应项目信息不存在"
                },
                "target": {
                    "err_code": 232059,
                    "err_memo": "该条报工对应项目信息不存在"
                },
                "dept_id": "",
                "jobdate": 1429200000,
                "manhours": 3,
                "created_at": 1428543071,
                "updated_at": 0,
                "desc": "test123",
                "order": 0,
                "robot": "0"
            }
        ]
    },
    "msg": "",
    "systime": 1428569122
}


/* 	获取 创建人 所有参与项目、子项目以及项目成果
	URL   spms/jobcard/targets
 */

$result = {
    "code": 0,
    "data": {
        "list": [
            {
                "id": "8Jo8e4aaHzxXB808",
                "type": "spms_project",
                "name": "qqweqwe",
                "parent_id": ""
            },
            {
                "id": "9Jvf19KCW2ehmhyY",
                "type": "spms_project",
                "name": "新建测试项目yjl",
                "parent_id": ""
            },
            {
                "id": "5FTYBALldeScgjwK",
                "type": "spms_achievement",
                "name": "成果名称test1",
                "parent_id": "9Jvf19KCW2ehmhyY"
            },
            {
                "id": "eqMgl8ckAukpGacD",
                "type": "spms_project",
                "name": "李丹丹测试项目，勿删改",
                "parent_id": ""
            },
            {
                "id": "AHhwlXA0vqLRFV8F",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            {
                "id": "J5zDeWuTqSBp7gY7",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            {
                "id": "n906VpW5q4yTfNSJ",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            {
                "id": "4DHKH7w8uGVGux8n",
                "type": "spms_achievement",
                "name": "成果名称pppppppp",
                "parent_id": "eqMgl8ckAukpGacD"
            },
            {
                "id": "RFJmsMkZffTWm7xC",
                "type": "spms_project",
                "name": "武倩测试项目 勿删",
                "parent_id": ""
            }
        ]
    },
    "msg": "",
    "systime": 1428570031
}
